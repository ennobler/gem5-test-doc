<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="generator" content="Hugo 0.40.3" />
    <meta name="description" content="">


    <link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon" />
<link rel="icon" href="/images/favicon.png" type="image/x-icon" />
    <title>Android KitKat :: gem5</title>
    
    
    <link href="/css/nucleus.css?1526268735" rel="stylesheet">
    <link href="/css/font-awesome.min.css?1526268735" rel="stylesheet">
    <link href="/css/hybrid.css?1526268735" rel="stylesheet">
    <link href="/css/featherlight.min.css?1526268735" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1526268735" rel="stylesheet">
    <link href="/css/auto-complete.css?1526268735" rel="stylesheet">
    <link href="/css/theme.css?1526268735" rel="stylesheet">
    <link href="/css/hugo-theme.css?1526268735" rel="stylesheet">
    
      <link href="/css/theme-gem5.css?1526268735" rel="stylesheet">
    

    <script src="/js/jquery-2.x.min.js?1526268735"></script>
    
    <style type="text/css">
      :root #header + #content > #left > #rlblock_left{ 
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/benchmarks/android-kitkat/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="http://gem5.org">
<svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   viewBox="0 0 841.33331 336"
   width="200"
   xml:space="preserve"
   id="svg2"
   version="1.1"><metadata
     id="metadata8"><rdf:RDF><cc:Work
         rdf:about=""><dc:format>image/svg+xml</dc:format><dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" /></cc:Work></rdf:RDF></metadata><defs
     id="defs6"><clipPath
       id="clipPath18"
       clipPathUnits="userSpaceOnUse"><path
         id="path16"
         d="m 67.937,138.247 c -14.582,-14.587 -14.582,-38.253 0,-52.84 v 0 c 11.31,-11.304 28.04,-13.816 41.797,-7.597 v 0 -13.234 H 69.215 L 58.281,53.572 h 62.455 v 49.056 l -9.449,-9.445 H 75.631 l 45.105,45.125 c -7.285,7.257 -16.824,10.887 -26.365,10.887 v 0 c -9.566,0 -19.134,-3.648 -26.434,-10.948" /></clipPath><radialGradient
       id="radialGradient28"
       spreadMethod="pad"
       gradientTransform="matrix(40.629776,0,0,-40.629776,88.868164,101.38281)"
       gradientUnits="userSpaceOnUse"
       r="1"
       cy="0"
       cx="0"
       fy="0"
       fx="0"><stop
         id="stop24"
         offset="0"
         style="stop-opacity:1;stop-color:#918f90" /><stop
         id="stop26"
         offset="1"
         style="stop-opacity:1;stop-color:#706d6e" /></radialGradient><clipPath
       id="clipPath38"
       clipPathUnits="userSpaceOnUse"><path
         id="path36"
         d="m 120.78,187.337 v -48.995 l 9.406,9.397 35.649,0.011 -45.081,-45.122 c 14.592,-14.568 38.239,-14.549 52.832,0.032 v 0 c 14.597,14.578 14.597,38.25 0,52.839 v 0 c -11.312,11.302 -28.044,13.814 -41.805,7.599 v 0 13.234 h 40.478 l 10.995,11.005 z" /></clipPath><radialGradient
       id="radialGradient48"
       spreadMethod="pad"
       gradientTransform="matrix(40.638321,0,0,-40.638321,152.64404,139.52441)"
       gradientUnits="userSpaceOnUse"
       r="1"
       cy="0"
       cx="0"
       fy="0"
       fx="0"><stop
         id="stop44"
         offset="0"
         style="stop-opacity:1;stop-color:#51add5" /><stop
         id="stop46"
         offset="1"
         style="stop-opacity:1;stop-color:#0c8db4" /></radialGradient><clipPath
       id="clipPath58"
       clipPathUnits="userSpaceOnUse"><path
         id="path56"
         d="M 0,252 H 631 V 0 H 0 Z" /></clipPath></defs><g
     transform="matrix(1.3333333,0,0,-1.3333333,0,336)"
     id="g10"><g
       id="g12"><g
         clip-path="url(#clipPath18)"
         id="g14"><g
           id="g20"><g
             id="g22"><path
               id="path30"
               style="fill:url(#radialGradient28);stroke:none"
               d="m 67.937,138.247 c -14.582,-14.587 -14.582,-38.253 0,-52.84 v 0 c 11.31,-11.304 28.04,-13.816 41.797,-7.597 v 0 -13.234 H 69.215 L 58.281,53.572 h 62.455 v 49.056 l -9.449,-9.445 H 75.631 l 45.105,45.125 c -7.285,7.257 -16.824,10.887 -26.365,10.887 v 0 c -9.566,0 -19.134,-3.648 -26.434,-10.948" /></g></g></g></g><g
       id="g32"><g
         clip-path="url(#clipPath38)"
         id="g34"><g
           id="g40"><g
             id="g42"><path
               id="path50"
               style="fill:url(#radialGradient48);stroke:none"
               d="m 120.78,187.337 v -48.995 l 9.406,9.397 35.649,0.011 -45.081,-45.122 c 14.592,-14.568 38.239,-14.549 52.832,0.032 v 0 c 14.597,14.578 14.597,38.25 0,52.839 v 0 c -11.312,11.302 -28.044,13.814 -41.805,7.599 v 0 13.234 h 40.478 l 10.995,11.005 z" /></g></g></g></g><g
       id="g52"><g
         clip-path="url(#clipPath58)"
         id="g54"><g
           transform="translate(261.584,90.4844)"
           id="g60"><path
             id="path62"
             style="fill:#706d6e;fill-opacity:1;fill-rule:nonzero;stroke:none"
             d="m 0,0 c -10.379,-7.444 -24.895,-6.536 -34.226,2.797 -10.371,10.386 -10.371,27.203 0,37.574 10.378,10.369 27.192,10.369 37.57,0 l 7.753,7.751 c -14.657,14.66 -38.424,14.66 -53.07,0 -14.656,-14.654 -14.656,-38.431 0,-53.073 C -30.611,-16.301 -13.81,-18.82 0,-12.579 v -13.286 h -40.631 l -11.045,-11.048 h 62.719 v 49.296 c 0,0 -2.893,-4.782 -7.699,-9.572 C 2.291,1.753 1.154,0.841 0,0" /></g><g
           transform="translate(523.959,133.6465)"
           id="g64"><path
             id="path66"
             style="fill:#0c8db4;fill-opacity:1;fill-rule:nonzero;stroke:none"
             d="m 0,0 c 10.377,7.43 24.896,6.523 34.216,-2.801 10.375,-10.38 10.375,-27.204 0,-37.573 -10.384,-10.371 -27.193,-10.371 -37.572,0 l -7.75,-7.749 c 14.671,-14.663 38.423,-14.645 53.059,0 14.655,14.652 14.655,38.416 0,53.055 C 30.613,16.295 13.803,18.802 0,12.574 V 25.86 h 40.623 l 11.043,11.042 h -62.72 v -49.291 c 0,0 2.9,4.778 7.698,9.588 C -2.296,-1.77 -1.184,-0.845 0,0" /></g><g
           transform="translate(301.3828,130.751)"
           id="g68"><path
             id="path70"
             style="fill:#706d6e;fill-opacity:1;fill-rule:nonzero;stroke:none"
             d="m 0,0 c 10.317,10.309 27.046,10.309 37.353,0 2.252,-2.263 3.974,-4.839 5.239,-7.583 H -5.272 C -3.991,-4.839 -2.261,-2.263 0,0 m 0,-37.373 c -5.154,5.163 -7.738,11.915 -7.738,18.679 h 63.94 c 0,3.756 -0.576,7.49 -1.687,11.111 -1.756,5.647 -4.833,10.979 -9.314,15.438 -14.647,14.661 -38.399,14.661 -53.055,0 -14.651,-14.667 -14.651,-38.43 0,-53.073 14.656,-14.673 38.408,-14.673 53.055,0 l -7.848,7.845 C 27.046,-47.692 10.317,-47.692 0,-37.373" /></g><g
           transform="translate(463.8438,149.582)"
           id="g72"><path
             id="path74"
             style="fill:#0c8db4;fill-opacity:1;fill-rule:nonzero;stroke:none"
             d="M 0,0 C -13.554,0 -25.387,-7.18 -31.98,-17.937 -38.582,-7.18 -50.411,0 -63.961,0 c -7.729,0 -14.9,-2.333 -20.872,-6.335 -4.489,-3.012 -8.252,-6.997 -11.109,-11.602 V -73.82 h 11.109 v 52.457 c 4.844,6.236 12.371,10.265 20.872,10.265 14.595,0 26.419,-11.843 26.419,-26.427 V -73.82 h 11.109 v 36.295 c 0,14.584 11.83,26.427 26.433,26.427 14.58,0 26.424,-11.843 26.424,-26.427 V -73.82 h 11.092 v 36.295 C 37.516,-16.792 20.72,0 0,0" /></g></g></g></g></svg>
</a>
<p>
Modular platform for computer-system architecture research
</p>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fa fa-search"></i></label>
    <input data-search-input id="search-by" type="text" placeholder="Search...">
    <span data-search-clear=""><i class="fa fa-close"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1526268735"></script>
<script type="text/javascript" src="/js/auto-complete.js?1526268735"></script>
<script type="text/javascript">
    
        var baseurl = '\/';
    
</script>
<script type="text/javascript" src="/js/search.js?1526268735"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          


 
  
    
    <li data-nav-id="/getting-started/" title="Getting Started" class="dd-item 
        
        
        
        ">
      <a href="/getting-started/">
          Getting Started
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/getting-started/intro/" title="Introduction" class="dd-item ">
        <a href="/getting-started/intro/">
        Introduction
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/getting-started/dependencies/" title="Dependencies" class="dd-item ">
        <a href="/getting-started/dependencies/">
        Dependencies
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/getting-started/source-code/" title="Source Code" class="dd-item ">
        <a href="/getting-started/source-code/">
        Source Code
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/getting-started/config-script/" title="Configuration Scripts" class="dd-item ">
        <a href="/getting-started/config-script/">
        Configuration Scripts
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/getting-started/build/" title="Building" class="dd-item ">
        <a href="/getting-started/build/">
        Building
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/getting-started/running/" title="Running" class="dd-item ">
        <a href="/getting-started/running/">
        Running
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/getting-started/adding-cache/" title="Adding cache" class="dd-item ">
        <a href="/getting-started/adding-cache/">
        Adding cache
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/getting-started/stats/" title="Stats" class="dd-item ">
        <a href="/getting-started/stats/">
        Stats
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/getting-started/default-configs/" title="Default Configuration Files" class="dd-item ">
        <a href="/getting-started/default-configs/">
        Default Configuration Files
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/getting-started/asking-for-help/" title="Asking for help" class="dd-item ">
        <a href="/getting-started/asking-for-help/">
        Asking for help
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/getting-started/mailing-lists/" title="Mailing Lists" class="dd-item ">
        <a href="/getting-started/mailing-lists/">
        Mailing Lists
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/getting-started/adding-functionality/" title="Adding Functionality" class="dd-item ">
        <a href="/getting-started/adding-functionality/">
        Adding Functionality
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/gem5-101/" title="gem5 101" class="dd-item 
        
        
        
        ">
      <a href="/gem5-101/">
          gem5 101
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/gem5-101/hello_world/" title="Hello world" class="dd-item 
        
        
        
        ">
      <a href="/gem5-101/hello_world/">
          Hello world
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/gem5-101/adding_an_instruction/" title="Adding an instruction" class="dd-item 
        
        
        
        ">
      <a href="/gem5-101/adding_an_instruction/">
          Adding an instruction
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/gem5-101/cpu_models/" title="CPU models" class="dd-item 
        
        
        
        ">
      <a href="/gem5-101/cpu_models/">
          CPU models
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/gem5-101/branch_prediction/" title="Branch prediction" class="dd-item 
        
        
        
        ">
      <a href="/gem5-101/branch_prediction/">
          Branch prediction
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/gem5-101/caches/" title="Caches" class="dd-item 
        
        
        
        ">
      <a href="/gem5-101/caches/">
          Caches
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/gem5-101/multi-core/" title="Multi Core" class="dd-item 
        
        
        
        ">
      <a href="/gem5-101/multi-core/">
          Multi Core
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/contributing/" title="Contributing" class="dd-item 
        
        
        
        ">
      <a href="/contributing/">
          Contributing
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/contributing/high-level/" title="High-level flow" class="dd-item ">
        <a href="/contributing/high-level/">
        High-level flow
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/contributing/cloning/" title="Cloning the repo to contribute" class="dd-item ">
        <a href="/contributing/cloning/">
        Cloning the repo to contribute
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/contributing/changes/" title="Making changes to gem5" class="dd-item ">
        <a href="/contributing/changes/">
        Making changes to gem5
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/contributing/posting-review/" title="Posting a review" class="dd-item ">
        <a href="/contributing/posting-review/">
        Posting a review
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/contributing/reviewing-patches/" title="Reviewing patches" class="dd-item ">
        <a href="/contributing/reviewing-patches/">
        Reviewing patches
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/contributing/committing/" title="Committing" class="dd-item ">
        <a href="/contributing/committing/">
        Committing
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/contributing/governance/" title="Governance" class="dd-item ">
        <a href="/contributing/governance/">
        Governance
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/arch/" title="Supported architectures" class="dd-item 
        
        
        
        ">
      <a href="/arch/">
          Supported architectures
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/arch/arm/" title="Arm" class="dd-item 
        
        
        
        ">
      <a href="/arch/arm/">
          Arm
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/arch/arm/linux_kernel/" title="Linux Kernel" class="dd-item ">
        <a href="/arch/arm/linux_kernel/">
        Linux Kernel
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/arch/x86/" title="X86" class="dd-item 
        
        
        
        ">
      <a href="/arch/x86/">
          X86
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/arch/x86/address_space/" title="Address space" class="dd-item ">
        <a href="/arch/x86/address_space/">
        Address space
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/arch/x86/decoder/" title="Decoder" class="dd-item ">
        <a href="/arch/x86/decoder/">
        Decoder
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/arch/x86/instruction_decoding/" title="Instruction decoding" class="dd-item ">
        <a href="/arch/x86/instruction_decoding/">
        Instruction decoding
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/arch/x86/micro-code/" title="Micro Code" class="dd-item ">
        <a href="/arch/x86/micro-code/">
        Micro Code
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/arch/x86/micro-op-isa/" title="Micro-op ISA" class="dd-item ">
        <a href="/arch/x86/micro-op-isa/">
        Micro-op ISA
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/arch/x86/segmentation/" title="Segmentation" class="dd-item ">
        <a href="/arch/x86/segmentation/">
        Segmentation
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/arch/x86/todo/" title="Todo list" class="dd-item ">
        <a href="/arch/x86/todo/">
        Todo list
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/cpu-models/" title="CPU Models" class="dd-item 
        
        
        
        ">
      <a href="/cpu-models/">
          CPU Models
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/cpu-models/inorder/" title="In Order" class="dd-item 
        
        
        
        ">
      <a href="/cpu-models/inorder/">
          In Order
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/cpu-models/inorder/inst-schedules/" title="Instruction schedules &amp; pipeline definition" class="dd-item ">
        <a href="/cpu-models/inorder/inst-schedules/">
        Instruction schedules &amp; pipeline definition
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/cpu-models/inorder/pipeline-stages/" title="Pipeline stages" class="dd-item ">
        <a href="/cpu-models/inorder/pipeline-stages/">
        Pipeline stages
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/cpu-models/inorder/resource-request-model/" title="Resource request model" class="dd-item ">
        <a href="/cpu-models/inorder/resource-request-model/">
        Resource request model
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/cpu-models/inorder/todo/" title="TODO" class="dd-item ">
        <a href="/cpu-models/inorder/todo/">
        TODO
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/cpu-models/inorder/tutorial/" title="Tutorial" class="dd-item ">
        <a href="/cpu-models/inorder/tutorial/">
        Tutorial
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/cpu-models/tracecpu/" title="TraceCPU" class="dd-item 
        
        
        
        ">
      <a href="/cpu-models/tracecpu/">
          TraceCPU
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/cpu-models/o3/" title="O3" class="dd-item 
        
        
        
        ">
      <a href="/cpu-models/o3/">
          O3
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/cpu-models/o3/visualization/" title="Visualization" class="dd-item ">
        <a href="/cpu-models/o3/visualization/">
        Visualization
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/docs/" title="Documentation" class="dd-item 
        
        
        
        ">
      <a href="/docs/">
          Documentation
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/docs/build-system/" title="Build System" class="dd-item ">
        <a href="/docs/build-system/">
        Build System
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/debugging/" title="Debugging" class="dd-item ">
        <a href="/docs/debugging/">
        Debugging
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/dependencies/" title="Dependencies" class="dd-item ">
        <a href="/docs/dependencies/">
        Dependencies
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/adding-cpu-model/" title="Howto add a CPU model" class="dd-item ">
        <a href="/docs/adding-cpu-model/">
        Howto add a CPU model
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/workload-automation/" title="Workload Automation" class="dd-item ">
        <a href="/docs/workload-automation/">
        Workload Automation
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/extras/" title="Adding Files to Build" class="dd-item ">
        <a href="/docs/extras/">
        Adding Files to Build
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/arch-state/" title="Architectural State" class="dd-item ">
        <a href="/docs/arch-state/">
        Architectural State
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/branch-delay-slots/" title="Branch-delay slots" class="dd-item ">
        <a href="/docs/branch-delay-slots/">
        Branch-delay slots
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/cache-replacement-policies/" title="Cache Replacement Policies" class="dd-item ">
        <a href="/docs/cache-replacement-policies/">
        Cache Replacement Policies
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/checkpoints/" title="Checkpoints" class="dd-item ">
        <a href="/docs/checkpoints/">
        Checkpoints
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/classic-mem-system/" title="Classic memory system" class="dd-item ">
        <a href="/docs/classic-mem-system/">
        Classic memory system
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/debugging-simulated/" title="Debugging simulated code" class="dd-item ">
        <a href="/docs/debugging-simulated/">
        Debugging simulated code
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/debugging-gdb/" title="Debugging w/gdb" class="dd-item ">
        <a href="/docs/debugging-gdb/">
        Debugging w/gdb
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/disk-images/" title="Disk images" class="dd-item ">
        <a href="/docs/disk-images/">
        Disk images
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/gpu/" title="GPU Models" class="dd-item ">
        <a href="/docs/gpu/">
        GPU Models
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/introduction/" title="Introduction" class="dd-item ">
        <a href="/docs/introduction/">
        Introduction
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/memory-system/" title="Memory system" class="dd-item ">
        <a href="/docs/memory-system/">
        Memory system
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/multi-programmed-workloads/" title="Multi-programmed workloads" class="dd-item ">
        <a href="/docs/multi-programmed-workloads/">
        Multi-programmed workloads
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/nic-devices/" title="NIC devices" class="dd-item ">
        <a href="/docs/nic-devices/">
        NIC devices
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/running/" title="Running gem5" class="dd-item ">
        <a href="/docs/running/">
        Running gem5
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/scripts/" title="Simulation Scripts" class="dd-item ">
        <a href="/docs/scripts/">
        Simulation Scripts
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/m5ops/" title="m5ops" class="dd-item ">
        <a href="/docs/m5ops/">
        m5ops
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/m5term/" title="m5term" class="dd-item ">
        <a href="/docs/m5term/">
        m5term
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/doxygen/" title="Doxygen Code Documentation" class="dd-item ">
        <a href="/docs/doxygen/">
        Doxygen Code Documentation
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/dyn-inst/" title="DynInst" class="dd-item ">
        <a href="/docs/dyn-inst/">
        DynInst
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/simpoints/" title="Simpoints w/gem5" class="dd-item ">
        <a href="/docs/simpoints/">
        Simpoints w/gem5
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/splash/" title="Splash" class="dd-item ">
        <a href="/docs/splash/">
        Splash
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/source-code/" title="Tour of sourcecode" class="dd-item ">
        <a href="/docs/source-code/">
        Tour of sourcecode
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/non-default-python/" title="Using a non-default Python" class="dd-item ">
        <a href="/docs/non-default-python/">
        Using a non-default Python
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/streamline/" title="Visualizing w/Streamline" class="dd-item ">
        <a href="/docs/streamline/">
        Visualizing w/Streamline
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/useful-external/" title="Useful external docs" class="dd-item ">
        <a href="/docs/useful-external/">
        Useful external docs
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/software_not_in_git/" title="Software not in git" class="dd-item ">
        <a href="/docs/software_not_in_git/">
        Software not in git
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/alternate_source/" title="Alternate Sources" class="dd-item ">
        <a href="/docs/alternate_source/">
        Alternate Sources
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/ruby/" title="Ruby Memory System" class="dd-item 
        
        
        
        ">
      <a href="/ruby/">
          Ruby Memory System
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/ruby/cache-coherence-protocols/" title="Cache Coherence Protocols" class="dd-item ">
        <a href="/ruby/cache-coherence-protocols/">
        Cache Coherence Protocols
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/ruby/memory-components/" title="Deprecated" class="dd-item ">
        <a href="/ruby/memory-components/">
        Deprecated
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/ruby/directed-tests/" title="Directed tests" class="dd-item ">
        <a href="/ruby/directed-tests/">
        Directed tests
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/ruby/gems-transition/" title="GEMS transition to gem5" class="dd-item ">
        <a href="/ruby/gems-transition/">
        GEMS transition to gem5
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/ruby/garnet/" title="Garnet" class="dd-item ">
        <a href="/ruby/garnet/">
        Garnet
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/ruby/garnet-2/" title="Garnet 2.0" class="dd-item ">
        <a href="/ruby/garnet-2/">
        Garnet 2.0
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/ruby/garnet-standalone/" title="Garnet standalone" class="dd-item ">
        <a href="/ruby/garnet-standalone/">
        Garnet standalone
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/ruby/interconnection-network/" title="Interconnection network" class="dd-item ">
        <a href="/ruby/interconnection-network/">
        Interconnection network
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/ruby/mesi-two-level/" title="MESI two level" class="dd-item ">
        <a href="/ruby/mesi-two-level/">
        MESI two level
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/ruby/mi-example/" title="MI example" class="dd-item ">
        <a href="/ruby/mi-example/">
        MI example
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/ruby/moesi-cmp-directory/" title="MOESI CMP directory" class="dd-item ">
        <a href="/ruby/moesi-cmp-directory/">
        MOESI CMP directory
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/ruby/moesi-cmp-token/" title="MOESI CMP token" class="dd-item ">
        <a href="/ruby/moesi-cmp-token/">
        MOESI CMP token
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/ruby/moesi-hammer/" title="MOESI hammer" class="dd-item ">
        <a href="/ruby/moesi-hammer/">
        MOESI hammer
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/ruby/modular-coherence/" title="Modular coherence" class="dd-item ">
        <a href="/ruby/modular-coherence/">
        Modular coherence
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/ruby/network-test/" title="Network test" class="dd-item ">
        <a href="/ruby/network-test/">
        Network test
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/ruby/ruby/" title="Ruby" class="dd-item ">
        <a href="/ruby/ruby/">
        Ruby
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/ruby/ruby-network-test/" title="Ruby Network Tester" class="dd-item ">
        <a href="/ruby/ruby-network-test/">
        Ruby Network Tester
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/ruby/ruby-random-test/" title="Ruby Random Tester" class="dd-item ">
        <a href="/ruby/ruby-random-test/">
        Ruby Random Tester
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/ruby/slicc/" title="SLICC" class="dd-item ">
        <a href="/ruby/slicc/">
        SLICC
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/ruby/simple/" title="Simple" class="dd-item ">
        <a href="/ruby/simple/">
        Simple
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/faq/" title="FAQ" class="dd-item 
        
        
        
        ">
      <a href="/faq/">
          FAQ
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/benchmarks/" title="Benchmarks w/gem5" class="dd-item 
        parent
        
        
        ">
      <a href="/benchmarks/">
          Benchmarks w/gem5
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/benchmarks/spec-2000/" title="SPEC2000" class="dd-item ">
        <a href="/benchmarks/spec-2000/">
        SPEC2000
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/benchmarks/spec-2006/" title="SPECcpu2006" class="dd-item ">
        <a href="/benchmarks/spec-2006/">
        SPECcpu2006
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/benchmarks/android-mashmellow/" title="Android Marshmallow" class="dd-item ">
        <a href="/benchmarks/android-mashmellow/">
        Android Marshmallow
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/benchmarks/bbench/" title="BBench" class="dd-item ">
        <a href="/benchmarks/bbench/">
        BBench
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/benchmarks/moby/" title="Moby" class="dd-item ">
        <a href="/benchmarks/moby/">
        Moby
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/benchmarks/android-kitkat/" title="Android KitKat" class="dd-item active">
        <a href="/benchmarks/android-kitkat/">
        Android KitKat
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/benchmarks/parsec/" title="PARSEC" class="dd-item ">
        <a href="/benchmarks/parsec/">
        PARSEC
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/tutorials/" title="Previous Tutorials" class="dd-item 
        
        
        
        ">
      <a href="/tutorials/">
          Previous Tutorials
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/tutorials/isca-2018/" title="ISCA 2018" class="dd-item ">
        <a href="/tutorials/isca-2018/">
        ISCA 2018
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/tutorials/dist-gem5/" title="ISCA2017 - distributed gem5" class="dd-item ">
        <a href="/tutorials/dist-gem5/">
        ISCA2017 - distributed gem5
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/tutorials/isca-2015/" title="ISCA 2015 - 2nd User Workshop" class="dd-item ">
        <a href="/tutorials/isca-2015/">
        ISCA 2015 - 2nd User Workshop
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/tutorials/micro-2012/" title="MISCO 2012 - 1st user workshop" class="dd-item ">
        <a href="/tutorials/micro-2012/">
        MISCO 2012 - 1st user workshop
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/tutorials/isca-2011/" title="ISCA 2011" class="dd-item ">
        <a href="/tutorials/isca-2011/">
        ISCA 2011
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/tutorials/isca-2006/" title="ISCA 2006" class="dd-item ">
        <a href="/tutorials/isca-2006/">
        ISCA 2006
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/tutorials/arm-summit-2017/" title="ARM research summit 2017" class="dd-item ">
        <a href="/tutorials/arm-summit-2017/">
        ARM research summit 2017
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/tutorials/asplos-2008/" title="ASPLOS 2008" class="dd-item ">
        <a href="/tutorials/asplos-2008/">
        ASPLOS 2008
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/tutorials/ics-2018/" title="ISC-2018 Vector Architecture Exploration" class="dd-item ">
        <a href="/tutorials/ics-2018/">
        ISC-2018 Vector Architecture Exploration
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/tutorials/asplos-2017/" title="ASPLOS 2017" class="dd-item ">
        <a href="/tutorials/asplos-2017/">
        ASPLOS 2017
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/developer/" title="Developer Documentation" class="dd-item 
        
        
        
        ">
      <a href="/developer/">
          Developer Documentation
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/developer/checker-cpu/" title="Checker CPU" class="dd-item ">
        <a href="/developer/checker-cpu/">
        Checker CPU
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/developer/classic-memory-system/" title="Classic Memory System" class="dd-item ">
        <a href="/developer/classic-memory-system/">
        Classic Memory System
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/developer/coding-style/" title="Coding Sytle" class="dd-item ">
        <a href="/developer/coding-style/">
        Coding Sytle
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/developer/defining-cpu-models/" title="Defining CPU models" class="dd-item ">
        <a href="/developer/defining-cpu-models/">
        Defining CPU models
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/developer/defining-isa/" title="Defining an ISa" class="dd-item ">
        <a href="/developer/defining-isa/">
        Defining an ISa
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/developer/events/" title="Events" class="dd-item ">
        <a href="/developer/events/">
        Events
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/developer/execution-basics/" title="Execution Basics" class="dd-item ">
        <a href="/developer/execution-basics/">
        Execution Basics
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/developer/execution-tracing/" title="Execution Tracing" class="dd-item ">
        <a href="/developer/execution-tracing/">
        Execution Tracing
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/developer/new-isa/" title="How to create an ISA" class="dd-item ">
        <a href="/developer/new-isa/">
        How to create an ISA
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/developer/isa-code-parsing/" title="ISA code parsing" class="dd-item ">
        <a href="/developer/isa-code-parsing/">
        ISA code parsing
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/developer/isa-description-system/" title="ISA description system" class="dd-item ">
        <a href="/developer/isa-description-system/">
        ISA description system
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/developer/isa-parser/" title="ISA parser" class="dd-item ">
        <a href="/developer/isa-parser/">
        ISA parser
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/developer/microcode-assembler/" title="Micro-code assembler" class="dd-item ">
        <a href="/developer/microcode-assembler/">
        Micro-code assembler
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/developer/packet-command-attribute/" title="Packet command attributes" class="dd-item ">
        <a href="/developer/packet-command-attribute/">
        Packet command attributes
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/developer/python-params/" title="Python Parameter Types" class="dd-item ">
        <a href="/developer/python-params/">
        Python Parameter Types
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/developer/ref-counting/" title="Refcounted Pointers" class="dd-item ">
        <a href="/developer/ref-counting/">
        Refcounted Pointers
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/developer/register-indexing/" title="Register Indexing" class="dd-item ">
        <a href="/developer/register-indexing/">
        Register Indexing
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/developer/register-windows/" title="Register Windows" class="dd-item ">
        <a href="/developer/register-windows/">
        Register Windows
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/developer/regression/" title="Regression Tests" class="dd-item ">
        <a href="/developer/regression/">
        Regression Tests
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/developer/scons/" title="SCons" class="dd-item ">
        <a href="/developer/scons/">
        SCons
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/developer/simple-thread/" title="SimpleThread" class="dd-item ">
        <a href="/developer/simple-thread/">
        SimpleThread
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/developer/thread-context/" title="ThreadContext" class="dd-item ">
        <a href="/developer/thread-context/">
        ThreadContext
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/developer/thread-state/" title="ThreadState" class="dd-item ">
        <a href="/developer/thread-state/">
        ThreadState
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/developer/future-serialization/" title="Future Serialization" class="dd-item ">
        <a href="/developer/future-serialization/">
        Future Serialization
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/developer/isa/" title="ISA Description" class="dd-item ">
        <a href="/developer/isa/">
        ISA Description
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/developer/todo/" title="Looking to help? " class="dd-item ">
        <a href="/developer/todo/">
        Looking to help? 
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/developer/sparc/" title="SPARC Curiousities" class="dd-item ">
        <a href="/developer/sparc/">
        SPARC Curiousities
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/developer/serialization/" title="Serialization" class="dd-item ">
        <a href="/developer/serialization/">
        Serialization
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/developer/sim-objects/" title="SimObjects" class="dd-item ">
        <a href="/developer/sim-objects/">
        SimObjects
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/developer/simple-cpu/" title="SimpleCPU" class="dd-item ">
        <a href="/developer/simple-cpu/">
        SimpleCPU
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/developer/static-inst/" title="StaticInst" class="dd-item ">
        <a href="/developer/static-inst/">
        StaticInst
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/developer/statistics/" title="Statistics" class="dd-item ">
        <a href="/developer/statistics/">
        Statistics
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/developer/utility/" title="Utility Code" class="dd-item ">
        <a href="/developer/utility/">
        Utility Code
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/developer/io/" title="" class="dd-item ">
        <a href="/developer/io/">
        
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/deprecated/" title="Deprecated" class="dd-item 
        
        
        
        ">
      <a href="/deprecated/">
          Deprecated
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/deprecated/alpha-dependencies/" title="Alpha Dependencies" class="dd-item ">
        <a href="/deprecated/alpha-dependencies/">
        Alpha Dependencies
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/deprecated/bad-names/" title="Bad names" class="dd-item ">
        <a href="/deprecated/bad-names/">
        Bad names
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/deprecated/compiling-linux/" title="Compiling Linux" class="dd-item ">
        <a href="/deprecated/compiling-linux/">
        Compiling Linux
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/deprecated/compiling-m5/" title="Compiling M5" class="dd-item ">
        <a href="/deprecated/compiling-m5/">
        Compiling M5
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/deprecated/compiling-workloads/" title="Compiling Workloads" class="dd-item ">
        <a href="/deprecated/compiling-workloads/">
        Compiling Workloads
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/deprecated/scripts/" title="Config scripts ideas" class="dd-item ">
        <a href="/deprecated/scripts/">
        Config scripts ideas
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/deprecated/dacapo/" title="DaCapo" class="dd-item ">
        <a href="/deprecated/dacapo/">
        DaCapo
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/deprecated/submitting-contributions/" title="Deprecated submitting contributions" class="dd-item ">
        <a href="/deprecated/submitting-contributions/">
        Deprecated submitting contributions
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/deprecated/hetrogenous/" title="Heterogenous Systems" class="dd-item ">
        <a href="/deprecated/hetrogenous/">
        Heterogenous Systems
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/deprecated/integrating-m5-gems/" title="Integrating m5 and gems" class="dd-item ">
        <a href="/deprecated/integrating-m5-gems/">
        Integrating m5 and gems
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/deprecated/legacy-arm-files/" title="Legacy ARM files" class="dd-item ">
        <a href="/deprecated/legacy-arm-files/">
        Legacy ARM files
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/deprecated/linux-kernel/" title="Linux kernel" class="dd-item ">
        <a href="/deprecated/linux-kernel/">
        Linux kernel
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/deprecated/linux-dist/" title="Linux-dist" class="dd-item ">
        <a href="/deprecated/linux-dist/">
        Linux-dist
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/deprecated/mercurial-queues/" title="Mercurial Queues" class="dd-item ">
        <a href="/deprecated/mercurial-queues/">
        Mercurial Queues
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/deprecated/nates-wish-list/" title="Nate&#39;s wishlest" class="dd-item ">
        <a href="/deprecated/nates-wish-list/">
        Nate&#39;s wishlest
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/deprecated/new-regression/" title="New regression framework" class="dd-item ">
        <a href="/deprecated/new-regression/">
        New regression framework
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/deprecated/old-documentation/" title="Old documentation" class="dd-item ">
        <a href="/deprecated/old-documentation/">
        Old documentation
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/deprecated/parallelize/" title="Parallelize gem5" class="dd-item ">
        <a href="/deprecated/parallelize/">
        Parallelize gem5
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/deprecated/running/" title="Running gem5" class="dd-item ">
        <a href="/deprecated/running/">
        Running gem5
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/deprecated/ubuntu-disk/" title="Full-system Ubuntu Image" class="dd-item ">
        <a href="/deprecated/ubuntu-disk/">
        Full-system Ubuntu Image
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/deprecated/spec-omp/" title="SPEComp" class="dd-item ">
        <a href="/deprecated/spec-omp/">
        SPEComp
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/deprecated/code-locations/" title="" class="dd-item ">
        <a href="/deprecated/code-locations/">
        
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/publications/" title="Publications" class="dd-item 
        
        
        
        ">
      <a href="/publications/">
          Publications
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/publications/projects/" title="Derivative projects" class="dd-item ">
        <a href="/publications/projects/">
        Derivative projects
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
         
    </ul>

    
    

    
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fa fa-heart"></i></a> from <a href="http://getgrav.org">Grav</a> and <a href="http://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>





        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                  
                  
                  
                  <div id="top-github-link">
                    <a class="github-link" title='Edit this page' href="https://github.com/gem5/gem5-websitebenchmarks/android-kitkat.md" target="blank">
                      <i class="fa fa-code-fork"></i>
                      <span id="top-github-link-text">Edit this page</span>
                    </a>
                  </div>
                  
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fa fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fa fa-list-alt"></i></span>
                  
                  <span class="links">
                    
          
          
            
            
          
          
            
            
          
          
            <a href='/'></a> > <a href='/benchmarks/'>Benchmarks w/gem5</a> > Android KitKat
          
         
          
         
          
           
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#building-android-kitkat-for-gem5">Building Android KitKat for gem5</a>
<ul>
<li><a href="#overview">Overview</a></li>
<li><a href="#build-instructions">Build Instructions</a></li>
<li><a href="#preparing-a-filesystem-for-gem5">Preparing a filesystem for gem5</a></li>
<li><a href="#building-the-kernel">Building the kernel</a></li>
</ul></li>
<li><a href="#android-runtime-configuration">Android Runtime Configuration</a>
<ul>
<li><a href="#opengl-graphics">OpenGL &amp; Graphics</a></li>
</ul></li>
<li><a href="#resources">Resources</a></li>
<li><a href="#running-workloads-with-kitkat">Running workloads with Kitkat</a></li>
<li><a href="#nomali">NoMali</a>
<ul>
<li><a href="#configuration-changes">Configuration Changes</a></li>
<li><a href="#android-user-space-drivers">Android User Space Drivers</a></li>
<li><a href="#kernel-drivers">Kernel Drivers</a></li>
<li><a href="#device-tree">Device Tree</a></li>
</ul></li>
</ul></li>
</ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            

        
        <div id="body-inner">
          
            <h1>Android KitKat</h1>
          

        




<h2 id="building-android-kitkat-for-gem5">Building Android KitKat for gem5</h2>

<h3 id="overview">Overview</h3>

<p>The easiest way to build Android for gem5 is to base the system on a the
emulated Goldfish device. The main difference between the actual
qemu-based Goldfish model and gem5 is a small number of gem5-specific
configuration files. These files are mainly related to differences in
block device naming and scripts to start use gem5&rsquo;s pseudo-op interface
to start experiments.</p>

<h3 id="build-instructions">Build Instructions</h3>

<p>Follow the directions on <a href="http://source.android.com/source/building.html">Android Open
Source</a> to download and
build Android. Make sure to create a local mirror (see the <a href="http://source.android.com/source/downloading.html">download
page</a>) to speed up
things if you ever need to create a new working directory. The following
instructions are based on our experience from bringing up Android
4.4.4r2 (KitKat).</p>

<p>Make sure to quickly read the AOSP build instructions. In particular the
section about Java dependencies. KitKat and earlier all depend on
particular Sun/Oracle JDK versions. Lollipop and newer seem to be able
to build with OpenJDK.</p>

<p>If you are building on a dedicated build machine or virtual machine, I&rsquo;d
recommend making sure OpenJDK is not installed at all on your machine
for building KitKat. Sometimes having both versions can cause issues
where some tools are invoked from OpenJDK while others get invoked from
the Oracle JDK.</p>

<p>Either way, make sure that the Oracle bin directory is first in your
PATH (and make sure it doesn&rsquo;t have a trailing slash):</p>

<p><code>export PATH=/path/to/java-6-jdk/bin:$PATH</code></p>

<p>When setting up your build directories, I&rsquo;d suggest a structure as
follows:</p>

<ul>
<li><code>/work/android</code> (or some other directory with plenty of free space)

<ul>
<li><code>.../repos/aosp-mirro</code> - Mirror of the upstream Android
repository</li>
<li><code>.../gem5kitkat/</code>

<ul>
<li><code>.../aosp</code> - Clone of the Android repository</li>
</ul></li>
</ul></li>
</ul>

<p>Before you start the AOSP build, you will need to make one change to the
build system to enable building libion.so, which is used by the Mali
driver. Edit the file <code>aosp/system/core/libion/Android.mk</code> to change
<code>LOCAL_MODULE_TAGS</code> for libion from &lsquo;optional&rsquo; to &lsquo;debug&rsquo;. Here is the
output of <code>repo diff</code>:</p>

<p><code> project system/core/</code>
<code> diff --git a/libion/Android.mk b/libion/Android.mk</code>
<code> index 5121fee..1a0af0e 100644</code>
<code> --- a/libion/Android.mk</code>
<code> +++ b/libion/Android.mk</code>
<code> @@ -3,7 +3,7 @@ LOCAL_PATH:= $(call my-dir)</code>
<code>  include $(CLEAR_VARS)</code>
<code>  LOCAL_SRC_FILES := ion.c</code>
<code>  LOCAL_MODULE := libion</code>
<code> -LOCAL_MODULE_TAGS := optional</code>
<code> +LOCAL_MODULE_TAGS := debug</code>
<code>  LOCAL_SHARED_LIBRARIES := liblog</code>
<code>  include $(BUILD_SHARED_LIBRARY)</code></p>

<p>Build a vanilla AOSP KitKat distribution using the following command:</p>

<p><code>. build/envsetup.sh</code>
<code>lunch aosp_arm-userdebug</code>
<code>make -j8</code></p>

<p>This builds a plain Android for the Goldfish device (an Android specific
qemu version). We are going to use this as a base for our gem5
distribution.</p>

<p>Useful
commands:</p>

<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>

<tbody>
<tr>
<td><code>hmm</code></td>
<td>Show a list of build system commands</td>
</tr>

<tr>
<td><code>mm</code></td>
<td>Build the Android module in the current directory</td>
</tr>

<tr>
<td><code>mma</code></td>
<td>Build the Android module in the current directory and its dependencies</td>
</tr>

<tr>
<td><code>emulator</code></td>
<td>Launch Android in qemu</td>
</tr>
</tbody>
</table>

<p>The <code>mm</code> command is especially useful since just running <code>make</code> in a
directory with an existing build of Android (i.e., make doesn&rsquo;t need to
build anything) can take several minutes.</p>

<h3 id="preparing-a-filesystem-for-gem5">Preparing a filesystem for gem5</h3>

<p>First, create an empty disk (this example creates a 2GiB image) image:</p>

<p><code>dd if=/dev/zero of=myimage.img bs=1M count=2048</code></p>

<p>As root, hook up the disk image to a loopback device (the following
assumes /dev/loop0 is free).</p>

<p><code>losetup /dev/loop0 myimage.img</code></p>

<p>Using fdisk, create the following partitions:</p>

<table>
<thead>
<tr>
<th>Part. No</th>
<th>Usage</th>
<th>Approximate Size</th>
</tr>
</thead>

<tbody>
<tr>
<td>1</td>
<td>/</td>
<td>500MB</td>
</tr>

<tr>
<td>2</td>
<td>/data</td>
<td>1GB</td>
</tr>

<tr>
<td>3</td>
<td>/cache</td>
<td>500MB</td>
</tr>
</tbody>
</table>

<p>Use common sense when setting up the partitions. The root partition will
contain both Android&rsquo;s root file system and the system file system and
should be big enough for both of them. The data partition will contain
any apps that are not a part of the system (i.e., anything you install).</p>

<p>As root, tell the kernel about the partitions and format them to ext4:</p>

<p><code>partprobe /dev/loop0</code>
<code>mkfs.ext4 -L AndroidRoot /dev/loop0p1</code>
<code>mkfs.ext4 -L AndroidData /dev/loop0p2</code>
<code>mkfs.ext4 -L AndroidCache /dev/loop0p3</code></p>

<p>Mount the filesystem and extract the root file system:</p>

<p><code>mkdir -p /mnt/android</code>
<code>mount /dev/loop0p1 /mnt/android</code>
<code>cd /mnt/android</code>
<code>zcat AOSP/out/target/product/generic/ramdisk.img  | cpio -i</code>
<code>mkdir cache</code></p>

<p><code>mkdir -p /mnt/tmp</code>
<code>mount -oro,loop AOSP/out/target/product/generic/system.img /mnt/tmp</code>
<code>cp -a /mnt/tmp/* system/</code></p>

<p>At this point, the new disk image is a (mostly) vanilla Goldfish image.
Add the gem5 pixie dust by copying all the files in the attached
tar-ball into the new root file system and adding an <code>m5</code> binary (see
<code>util/m5</code> in your gem5 work directory) to <code>/sbin</code>. This directory
contains a gem5-specific init.rc that is based on the original Goldfish
device, with additional tweaks. Specifically, it runs
<code>/gem5/postboot.sh</code> when Android has booted. This script is responsible
for disabling the screen lock and downloading and executing a run script
from gem5. Double check to make sure that both the <code>init.gem5.rc</code> and
<code>postboot.sh</code> file have the executable permission set.</p>

<p>At this point, everything should just work. Unmount everything and
disconnect the loop back device:</p>

<p><code>umount /mnt/android</code>
<code>losetup -d /dev/loop0</code></p>

<p>Android systems generally does a lot of initialization (JIT compilation
etc.) on the first boot. Since gem5 normally mounts the root file system
as CoW and stores the file system differences in memory. To speed up
future experiments, make sure to follow the guide in
<a href="BBench-gem5" title="wikilink">BBench-gem5</a> to make these changes permanent.</p>

<h3 id="building-the-kernel">Building the kernel</h3>

<p>You will need a recent ARM cross compiler to build the kernel. If you&rsquo;re
using Ubuntu 10.04, install it by running:</p>

<p><code>sudo apt-get install gcc-arm-linux-gnueabihf</code></p>

<p>Checkout the gem5 kernel from the following git repository:</p>

<p><a href="git://linux-arm.org/linux-linaro-tracking-gem5.git">git://linux-arm.org/linux-linaro-tracking-gem5.git</a></p>

<p>Alternatively, you can use the github mirror of this same repo (See:
<a href="http://permalink.gmane.org/gmane.comp.emulators.m5.devel/27631">http://permalink.gmane.org/gmane.comp.emulators.m5.devel/27631</a>):</p>

<p><code>git clone </code><a href="https://github.com/gem5/linux-arm-gem5.git">https://github.com/gem5/linux-arm-gem5.git</a></p>

<p>If you are not planning on doing kernel development, you can add the
option <code>--depth 1</code> to significantly speed up your clone.</p>

<p>Configure and build the kernel
using:</p>

<p><code>make CROSS_COMPILE=arm-linux-gnueabihf- ARCH=arm vexpress_gem5_defconfig</code>
<code>make CROSS_COMPILE=arm-linux-gnueabihf- ARCH=arm vmlinux -j8</code></p>

<p>Note: if you want to use Workload Automation, this may be a good time to
add the extra kernel options to your .config file. See
<a href="WA-gem5" title="wikilink">WA-gem5</a> for a description and which kernel options
should be enabled.</p>

<h2 id="android-runtime-configuration">Android Runtime Configuration</h2>

<p>Simulation-specific kernel boot options
options:</p>

<table>
<thead>
<tr>
<th>Kernel Option</th>
<th>Function</th>
</tr>
</thead>

<tbody>
<tr>
<td>qemu=1</td>
<td>Enable emulation support</td>
</tr>

<tr>
<td>qemu.gles=1</td>
<td>Don&rsquo;t use software rendering (usually enables GLES pass through)</td>
</tr>

<tr>
<td>androidboot.hardware=NAME</td>
<td>Overrides the device&rsquo;s platform name (used to select configuration files at boot)</td>
</tr>

<tr>
<td></td>
<td></td>
</tr>
</tbody>
</table>

<p>A simulated system should normally set <code>qemu=1</code> on the kernel command
line. This enables software rendering and some emulation specific
services. In order to load the right boot configuration, set
<code>androidboot.hardware</code> to <code>gem5</code>.</p>

<p>Kernel command line to properties mapping:</p>

<table>
<thead>
<tr>
<th>Kernel Option</th>
<th>Android Property</th>
</tr>
</thead>

<tbody>
<tr>
<td>androidboot.*</td>
<td>ro.boot.*</td>
</tr>

<tr>
<td>androidboot.serialno</td>
<td>ro.serialno</td>
</tr>

<tr>
<td>androidboot.mode</td>
<td>ro.bootmode</td>
</tr>

<tr>
<td>androidboot.baseband</td>
<td>ro.baseband</td>
</tr>

<tr>
<td>androidboot.bootloader</td>
<td>ro.bootloader</td>
</tr>

<tr>
<td>androidboot.hardware</td>
<td>ro.hardware &amp; ro.boot.hardware</td>
</tr>

<tr>
<td>*</td>
<td>ro.kernel.* if running in emulation mode</td>
</tr>
</tbody>
</table>

<p>\== Emulation Mode Specifics (qemu=1) ==</p>

<h3 id="opengl-graphics">OpenGL &amp; Graphics</h3>

<ul>
<li>Setting the ro.kernel.qemu property forces libGLES_android to be
used unless ro.kernel.qemu.gles is also set.</li>
</ul>

<!-- end list -->

<ul>
<li>qemu.sf.lcd_density instead of ro.sf.lcd_density is used to
specify display
density.</li>
</ul>

<h2 id="resources">Resources</h2>

<p><a href="http://www.gem5.org/dist/current/arm/kitkat-overlay.tar.bz2">kitkat-overlay.tar.bz2</a></p>

<h2 id="running-workloads-with-kitkat">Running workloads with Kitkat</h2>

<p>To run workloads we advise the use of <a href="https://github.com/ARM-software/workload-automation">Workload
Automation</a>. For
detailed instructions on how to use this see:
<a href="WA-gem5" title="wikilink">WA-gem5</a></p>

<h2 id="nomali">NoMali</h2>

<p>To use a NoMali model in gem5, you need to perform the following steps:</p>

<ul>
<li>Add it to the configuration file</li>
<li>Add the user-space drivers to your Android image</li>
<li>Add the kernel-side driver to your kernel</li>
<li>Inform the kernel of the device by adding it to the device tree</li>
</ul>

<p>These steps are described in detail in the sections below.</p>

<p>Once you have completed the steps to build the kernel-side driver and
modified the DTB, test the kernel and DTB by starting it in gem5. Ensure
that you get the following message from the kernel:</p>

<p><code>mali 2d000000.gpu: Continuing without Mali clock control</code>
<code>mali 2d000000.gpu: GPU identified as 0x0750 r0p0 status 1</code>
<code>mali 2d000000.gpu: Probed as mali0</code></p>

<p>Once the user-space driver has been added, start Android and check the
output of the <code>logcat</code> command. You should see something like this when
<code>surfaceflinger</code>
starts:</p>

<p><code>I/[Gralloc](  885): using (fd=14)</code>
<code>I/[Gralloc](  885): id           = hdlcd</code>
<code>I/[Gralloc](  885): xres         = 1920 px</code>
<code>I/[Gralloc](  885): yres         = 1080 px</code>
<code>I/[Gralloc](  885): xres_virtual = 1920 px</code>
<code>I/[Gralloc](  885): yres_virtual = 1080 px</code>
<code>I/[Gralloc](  885): bpp          = 16</code>
<code>I/[Gralloc](  885): r            = 11:5</code>
<code>I/[Gralloc](  885): g            =  5:6</code>
<code>I/[Gralloc](  885): b            =  0:5</code>
<code>I/[Gralloc](  885): width        = 305 mm (159.895081 dpi)</code>
<code>I/[Gralloc](  885): height       = 171 mm (160.421051 dpi)</code>
<code>I/[Gralloc](  885): refresh rate = 59.28 Hz</code>
<code>E/SurfaceFlinger(  885): hwcomposer module not found</code>
<code>W/SurfaceFlinger(  885): getting VSYNC period from fb HAL: 16868241</code>
<code>W/SurfaceFlinger(  885): no suitable EGLConfig found, trying a simpler query</code>
<code>I/SurfaceFlinger(  885): EGL informations:</code>
<code>I/SurfaceFlinger(  885): vendor    : Android</code>
<code>I/SurfaceFlinger(  885): version   : 1.4 Android META-EGL</code>
<code>I/SurfaceFlinger(  885): extensions: EGL_KHR_get_all_proc_addresses EGL_ANDROID_presentation_time EGL_KHR_image EGL_KHR_image_base EGL_KHR_gl_texture_2D_image EGL_KHR_gl_texture_cubemap_image EGL_KHR_gl_renderbuffer_image EGL_KHR_fence_sync EGL_KHR_create_context EGL_EXT_create_context_robustness EGL_ANDROID_image_native_buffer EGL_KHR_wait_sync EGL_ANDROID_recordable </code>
<code>I/SurfaceFlinger(  885): Client API: OpenGL_ES</code>
<code>I/SurfaceFlinger(  885): EGLSurface: 5-6-5-0, config=0x78f1f4e0</code>
<code>I/SurfaceFlinger(  885): OpenGL ES informations:</code>
<code>I/SurfaceFlinger(  885): vendor    : ARM</code>
<code>I/SurfaceFlinger(  885): renderer  : Mali-T760</code>
<code>I/SurfaceFlinger(  885): version   : OpenGL ES 3.1 v1.r8p0-02rel0.785fbb28b57044ab28a90a55a7b06f3f</code></p>

<h3 id="configuration-changes">Configuration Changes</h3>

<p>The NoMali GPU is not instantiated by default in any of the example
configurations. To instantiate it, add the following code to your
configuration script:</p>

<p><code>my_system.gpu = NoMaliGpu(</code>
<code>    gpu_type=&quot;T760&quot;,</code>
<code>    ver_maj=0, ver_min=0, ver_status=1,</code>
<code>    int_job=114, int_mmu=115, int_gpu=116,</code>
<code>    pio_addr=0x2d000000,</code>
<code>    pio=membus.master)</code></p>

<p>The code above instantiates a NoMali model of a Mali T760 r0p0-1 at
address <code>0x2d000000</code>. The GPU type and revision must match the driver.</p>

<h3 id="android-user-space-drivers">Android User Space Drivers</h3>

<p>Download the Mali drivers for gem5 from the <a href="http://malideveloper.arm.com/resources/drivers/arm-mali-midgard-gpu-user-space-drivers/">ARM Mali Midgard User Space
Drivers</a>
section on <a href="http://malideveloper.arm.com">MaliDeveloper</a>. Make sure that
you download a driver that matches your Android version. Make a note of
the driver version number, you&rsquo;ll need a matching kernel-side driver of
the same version.</p>

<p>The downloaded file will contain at least the following files:</p>

<ul>
<li><code>lib/egl/libGLES_mali.so</code></li>
<li><code>lib/hw/gralloc.default.so</code></li>
</ul>

<p>Copy the entire <code>lib</code> directory into <code>/system/vendor</code> in the target
system. The resulting disk image should contain (at least) the following
files:</p>

<ul>
<li><code>/system/vendor/lib/egl/libGLES_mali.so</code></li>
<li><code>/system/vendor/lib/hw/gralloc.default.so</code></li>
</ul>

<p>Make sure that everyone can access the files (i.e., files have
permission 0644 and directories 0755), or you&rsquo;ll end up with permission
errors when booting the system.</p>

<h3 id="kernel-drivers">Kernel Drivers</h3>

<p>Download the Mali kernel-side drivers from the <a href="http://malideveloper.arm.com/resources/drivers/open-source-mali-midgard-gpu-kernel-drivers/">ARM Mali Midgard Kernel
Drivers</a>
section on <a href="http://malideveloper.arm.com">MaliDeveloper</a>. Make sure that
you download a driver version that matches your user space driver
version.</p>

<p>Copy the directory <code>driver/product/kernel/drivers/gpu/arm</code> into
<code>drivers/gpu/</code> in your target kernel. You now need to wire up the driver
to the kernel&rsquo;s build system. Do that by adding <code>arm/</code> to the list of
subdirectories in <code>drivers/gpu/Makefile</code>. To add it to the configuration
system, add <code>source &quot;drivers/gpu/arm/Kconfig&quot;</code> to
<code>drivers/video/Kconfig</code>.</p>

<p>Enable the driver in the kernel configuration (set <code>MALI_MIDGARD</code> /
<code>Device Drivers -&gt; Graphics support -&gt; ARM GPU Configuration -&gt; Mali
Midgard series support</code>). The default options should work and enable
device tree support. Do <em>not</em> set the NoMali option in the kernel.</p>

<p>You will also need to enable the Mali DDK sysfs configuration (set
<code>MALI_MIDGARD_DEBUG_SYS</code> / <code>Device Drivers -&gt; Graphics support -&gt; ARM
GPU Configuration -&gt; Mali Midgard series support -&gt; Enable sysfs for the
Mali Midgard DDK</code>).</p>

<p>You will also need to enable the kernel config option
<code>CONFIG_ION_DUMMY=y</code> / <code>Device Drivers -&gt; Staging drivers -&gt; Android -&gt;
Android Drivers -&gt; Ion Memory Manager -&gt; Dummy Ion driver</code>. This will
create the /dev/ion device node that the Mali driver will use.</p>

<p>In short, you need to set following configurations in your <code>.config</code>
file.</p>

<p><code>CONFIG_MALI_MIDGARD=y</code>
<code>CONFIG_MALI_MIDGARD_DEBUG_SYS=y</code>
<code>CONFIG_ION=y</code>
<code>CONFIG_ION_DUMMY=y</code></p>

<h3 id="device-tree">Device Tree</h3>

<p>Add the following node to your device tree:</p>

<p><code>gpu@0x2d000000 {</code>
<code>   compatible = &quot;arm,mali-midgard&quot;;</code>
<code>   reg = &lt;0 0x2d000000 0 0x4000&gt;;</code>
<code>   interrupts = &lt;0 82 4&gt;, &lt;0 83 4&gt;, &lt;0 84 4&gt;;</code>
<code>   interrupt-names = &quot;JOB&quot;, &quot;MMU&quot;, &quot;GPU&quot;;</code>
<code>};</code></p>

<p>Note that there is an offset between interrupts in gem5 and in the
device tree. Linux starts counting SPIs from 0, while gem5 starts from
32.</p>


<footer class=" footline" >
	
</footer>


        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
        
        


        
            <a class="nav nav-prev" href="/benchmarks/moby/" title="Moby"> <i class="fa fa-chevron-left"></i></a>
        
        
            <a class="nav nav-next" href="/benchmarks/parsec/" title="PARSEC" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
        
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1526268735"></script>
    <script src="/js/perfect-scrollbar.min.js?1526268735"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1526268735"></script>
    <script src="/js/jquery.sticky.js?1526268735"></script>
    <script src="/js/featherlight.min.js?1526268735"></script>
    <script src="/js/html5shiv-printshiv.min.js?1526268735"></script>
    <script src="/js/highlight.pack.js?1526268735"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom.71422.js?1526268735"></script>
    <script src="/js/learn.js?1526268735"></script>
    <script src="/js/hugo-learn.js?1526268735"></script>

    <link href="/mermaid/mermaid.css?1526268735" type="text/css" rel="stylesheet" />
    <script src="/mermaid/mermaid.js?1526268735"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    

  </body>
</html>

